/*!
 * 
 *  js-cloudimage-responsive v4.1.2-beta.1 with blur hash placeholder technique
 *  https://github.com/scaleflex/js-cloudimage-responsive
 * 
 *  Copyright (c) 2019 scaleflex
 *  Released under the MIT license
 * 
 *  Date: 2020-04-14T09:20:46.458Z
 * 
 */!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var a=function(e){return!!e&&(0===e.indexOf("//")&&(e=window.location.protocol+e),0!==e.indexOf("http://")&&0!==e.indexOf("https://")&&0!==e.indexOf("//"))},o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/");return e[0]+"//"+e[2]},s=function(e,t){var i="/"===t[0],r=function(e,t){return e?(t?o(t):window.location.origin)+"/":t||document.baseURI}(i,e).split("/"),n=t.split("/");r.pop(),i&&n.shift();for(var a=0;a<n.length;a++)"."!==n[a]&&(".."===n[a]?r.pop():r.push(n[a]));return r.join("/")},d=t.updateSizeWithPixelRatio=function(e,t){var i=e.toString().split("x"),r=[];return[].forEach.call(i,function(e){e&&r.push(Math.floor(e*((t||window.devicePixelRatio).toFixed(1)||1)))}),r.join("x")},c=function(e){var t=e.src,i=e.params,r=e.config,a=e.width,o=e.height,s=e.devicePixelRatio,d=r.token,c=r.domain;return[r.doNotReplaceURL?"":"https://"+d+"."+c+"/v7/",t,-1!==t.indexOf("?")?"&":"?",l({params:n({},r.params,i),width:a,height:o,devicePixelRatio:s})].join("")},l=(t.getPreviewSRC=function(e){var t=e.config,i=e.width,r=e.height,a=e.params,o=e.src,s=e.devicePixelRatio,d=t.previewQualityFactor,l=n({},a,{ci_info:""}),u=p({width:i,height:r},d);return c({src:o,config:t,params:n({},l,u),devicePixelRatio:s})},function(e){var t=e.params,i=void 0===t?{}:t,n=e.width,a=e.height,o=e.devicePixelRatio,s=u(i),c=r(s,3),l=c[0],p=c[1],g=void 0===p?null:p,f=c[2],h=n?d(n,o):g,m=a?d(a,o):f,v=Object.keys(l).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(l[e])}).join("&");return[h?"w="+h:"",m?(h?"&":"")+"h="+m:"",v?"&"+v:""].join("")}),u=function(e){var t=e.w,i=e.h,r=e.width,n=e.height;return[function(e,t){var i={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=e[r]);return i}(e,["w","h","width","height"]),t||r,i||n]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=e.width,r=e.height;return{width:i=i?Math.floor(i/t):null,w:i,height:r=r?Math.floor(r/t):null,h:r}},g=function(e,t){var i=[];return Object.keys(e).forEach(function(r){var n=r.indexOf(":")>-1?r:t[r];i.push({media:n,params:f(e[r])})}),i},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.w,i=void 0===t?e.width||"":t,r=e.h,n=void 0===r?e.height||"":r,a=e.r,o=void 0===a?e.r:a;if(i.toString().indexOf("vw")>-1){var s=parseFloat(i);i=window.innerWidth*s/100}else i=parseFloat(i);if(n.toString().indexOf("vh")>-1){var d=parseFloat(n);n=window.innerHeight*d/100}else n=parseFloat(n);return{w:i,h:n,r:o}},h=t.getSizeLimit=function(e,t){return t?Math.ceil(e):e<=25?25:e<=50?50:100*Math.ceil(e/100)},m=function(e){return{sizes:y(x(e,"ci-sizes")||x(e,"data-ci-size")||{})||void 0,params:v(x(e,"ci-params")||x(e,"data-ci-params")||{}),imageNodeRatio:x(e,"ci-ratio")||x(e,"data-ci-ratio")||void 0,blurHash:x(e,"ci-blur-hash")||x(e,"data-ci-blur-hash")||void 0,isLazyCanceled:null!==x(e,"ci-not-lazy")||null!==x(e,"data-ci-not-lazy")||void 0,preserveSize:null!==x(e,"ci-preserve-size")||null!==x(e,"data-preserve-size")||void 0,imageNodeWidth:x(e,"width"),imageNodeHeight:x(e,"height")}},v=function(e){var t=void 0;try{var i=e.replace(/(\w+:)|(\w+ :)/g,function(e){return'"'+e.substring(0,e.length-1)+'":'});t=JSON.parse(i)}catch(e){}if(!t)try{t=JSON.parse('{"'+decodeURI(e.replace(/&/g,'","').replace(/=/g,'":"'))+'"}')}catch(e){}return t},y=function(e){var t=null;try{var i=e.replace(/(\w+:)|(\w+ :)/g,function(e){return'"'+e.substring(0,e.length-1)+'":'});i=i.replace(/'/g,'"').replace(/-"width":/g,"-width:"),t=JSON.parse(i)}catch(e){}return t&&Object.keys(t).forEach(function(e){if("string"==typeof t[e])try{t[e]=JSON.parse('{"'+decodeURI(t[e].replace(/&/g,'","').replace(/=/g,'":"'))+'"}')}catch(e){}}),t},w=function(e){return e.split("?")[0]},b=function(e){var t=e.indexOf("?");if(-1!==t)return v(e.slice(t+1))},x=function(e,t){return e.getAttribute(t)},S=(t.isOldBrowsers=function(e){var t=!0;if(e)try{new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(e){t=!1}return Element.prototype.hasOwnProperty("prepend")&&t},function(e,t){e.className.indexOf(t)>-1||(e.className+=" "+t)}),I=function(e,t){e.className.indexOf(t)>-1&&(e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),""))},O=[1,1.5,2,3,4],N=function(e){return".svg"===e.slice(-4).toLowerCase()},R=(t.determineContainerProps=function(e){var t=e.imgNode,i=e.config,r=e.imageNodeWidth,a=e.imageNodeHeight,o=e.imageNodeRatio,s=e.params,d=e.size,c=i.exactSize,l=P({imgNode:t,config:i,exactSize:c,imageNodeWidth:r,params:n({},i.params,s),size:d}),u=z({imgNode:t,config:i,exactSize:c,imageNodeHeight:a,params:n({},i.params,s),size:d,width:l}),p=R({imageNodeRatio:o,width:l,height:u,size:d});return!u&&l&&p&&(u=Math.floor(l/p)),!l&&u&&p&&(l=Math.floor(u*p)),{width:l,height:u,ratio:p}},t.getRatio=function(e){var t=e.imageNodeRatio,i=e.width,r=e.height,n=e.size;return n&&n.params?n.params.r||n.params.ratio?n.params.r||n.params.ratio:(n.params.w||n.params.width)&&(n.params.h||n.params.height)?(n.params.w||n.params.width)/(n.params.h||n.params.height):null:t||(i&&r?i/r:null)}),P=t.getWidth=function(e){var t=e.imgNode,i=void 0===t?null:t,r=e.exactSize,n=void 0!==r&&r,a=e.imageNodeWidth,o=void 0===a?null:a,s=e.params,d=void 0===s?{}:s,c=e.size,l=e.config,u=void 0===l?{}:l,p=U(d.func||u.params.func),g=c&&c.params&&(c.params.w||c.params.width),f=d.width||d.w,m=o&&k(o),v=B(i),y=p?v:h(v,n);return c&&c.params?c.params.r?d.width||d.w?f:o?m:y:g:f||(o?m:y)},z=t.getHeight=function(e){var t=e.imgNode,i=void 0===t?null:t,r=e.config,n=void 0===r?{}:r,a=e.exactSize,o=void 0!==a&&a,s=e.imageNodeHeight,d=void 0===s?null:s,c=e.params,l=void 0===c?{}:c,u=e.size,p=e.width,g=U(l.func||n.params.func),f=u&&u.params&&(u.params.h||u.params.height),m=u&&u.params&&(u.params.ratio||u.params.r),v=l.height||l.h,y=d&&k(d),w=C(i),b=g?w:h(w,o);return u&&u.params?m&&p?p/m:f:v||(d?y:g?b:null)},C=t.getImageContainerHeight=function(e){var t=e&&e.style&&e.style.height&&!(-1!==e.style.height.indexOf("%")),i=k(t);return i?parseInt(i,10):parseInt(A(e,"height"),10)},B=t.getImageContainerWidth=function(e){var t=e&&e.style&&e.style.width&&!(-1!==e.style.width.indexOf("%")),i=t&&k(t);return i?parseInt(i,10):parseInt(A(e),10)},k=t.convertToPX=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if((e=e.toString()).indexOf("px")>-1)return parseInt(e);if(e.indexOf("%")>-1);else{if(e.indexOf("vw")>-1)return window.innerWidth*parseInt(e)/100;if(e.indexOf("vh")>-1)return window.innerHeight*parseInt(e)/100}return parseInt(e)||null},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"width",i=null,r=0;do{r=(i=i&&i.parentNode||e.parentNode).getBoundingClientRect()[t]}while(i&&!r);var n=r&&i&&parseInt(window.getComputedStyle(i).paddingLeft),a=parseInt(window.getComputedStyle(i).paddingRight);return r+(r?-n-a:0)},U=(t.isApplyLowQualityPreview=function(e,t,i){return e?t>400:t>400&&!i},t.setSrc=function(e,t,i,r,n,a,o){e.setAttribute(r?i||"data-src":o||"src",a?n:t)},t.setSrcset=function(e,t,i,r,n,a,o){a||e.setAttribute(r?i||"data-srcset":o||"srcset",t.map(function(e){var t=e.dpr;return e.url+" "+t+"x"}).join(", "))},t.setBackgroundSrc=function(e,t,i,r,n,a){var o=n?r:t;i?e.setAttribute(a||"data-bg",o):e.style.backgroundImage="url('"+o+"')"},t.isCrop=function(e){return-1!==["crop","fit","bound","cover"].indexOf(e)});t.checkIfRelativeUrlPath=a,t.getImgSrc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=a(e);return 0===e.indexOf("//")&&(e=window.location.protocol+e),i&&(e=s(t,e)),[e,N(e)]},t.generateUrl=c,t.getBreakPoint=function(e,t){var i=g(e,t);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}(i)).reverse().find(function(e){return window.matchMedia(e.media).matches})},t.filterImages=function(e,t){for(var i=[],r=0;r<e.length;r++){var n=e[r];-1!==n.className.indexOf(t)||i.push(n)}return i},t.getImageProps=function(e){var t=n({},m(e),{alignment:x(e,"ci-align")||x(e,"data-ci-align")||"auto",imageNodeSRC:x(e,"ci-src")||x(e,"data-ci-src")||void 0}),i=n({},b(t.imageNodeSRC),t.params);return n({},t,{params:i,isAdaptive:!!t.sizes,imageNodeSRC:w(t.imageNodeSRC)})},t.getBackgroundImageProps=function(e){var t=n({},m(e),{imageNodeSRC:x(e,"ci-bg-url")||x(e,"data-ci-bg-url")||void 0}),i=n({},b(t.imageNodeSRC),t.params);return n({},t,{params:i,isAdaptive:!!t.sizes,imageNodeSRC:w(t.imageNodeSRC)})},t.addClass=S,t.removeClass=I,t.getAdaptiveSize=g,t.getLowQualitySize=p,t.getInitialConfigLowPreview=function(e){var t=e.token,i=void 0===t?"":t,r=e.domain,n=void 0===r?"cloudimg.io":r,a=e.lazyLoading,o=void 0!==a&&a,s=e.imgLoadingAnimation,d=void 0===s||s,c=e.width,l=void 0===c?"400":c,u=e.height,p=void 0===u?"300":u,g=e.placeholderBackground,f=void 0===g?"#f4f4f4":g,h=e.baseUrl,m=e.baseURL,y=e.ratio,w=e.presets,b=e.params,x=void 0===b?"org_if_sml=1":b,S=e.init,I=void 0===S||S,N=e.exactSize,R=void 0!==N&&N,P=e.doNotReplaceURL,z=void 0!==P&&P;return{token:i,domain:n,lazyLoading:o,imgLoadingAnimation:d,width:l,height:p,placeholderBackground:f,baseURL:h||m,ratio:y,exactSize:R,presets:w||{xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},params:v(x),innerWidth:window.innerWidth,init:I,previewQualityFactor:10,doNotReplaceURL:z,devicePixelRatioList:O}},t.getInitialConfigBlurHash=function(e){var t=e.token,i=void 0===t?"":t,r=e.domain,n=void 0===r?"cloudimg.io":r,a=e.lazyLoading,o=void 0!==a&&a,s=e.placeholderBackground,d=void 0===s?"#f4f4f4":s,c=e.baseUrl,l=e.baseURL,u=e.presets,p=e.ratio,g=e.params,f=void 0===g?"org_if_sml=1":g,h=e.init,m=void 0===h||h,y=e.exactSize,w=void 0!==y&&y,b=e.doNotReplaceURL,x=void 0!==b&&b;return{token:i,domain:n,lazyLoading:o,placeholderBackground:d,baseURL:c||l,ratio:p,exactSize:w,presets:u||{xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},params:v(f),innerWidth:window.innerWidth,init:m,previewQualityFactor:10,doNotReplaceURL:x,devicePixelRatioList:O}},t.getInitialConfigPlain=function(e){var t=e.token,i=void 0===t?"":t,r=e.domain,n=void 0===r?"cloudimg.io":r,a=e.lazyLoading,o=void 0!==a&&a,s=e.width,d=void 0===s?"400":s,c=e.height,l=void 0===c?"300":c,u=e.baseUrl,p=e.baseURL,g=e.presets,f=e.params,h=void 0===f?"org_if_sml=1":f,m=e.init,y=void 0===m||m,w=e.exactSize,b=void 0!==w&&w,x=e.doNotReplaceURL,S=void 0!==x&&x;return{token:i,domain:n,lazyLoading:o,width:d,height:l,baseURL:u||p,exactSize:b,presets:g||{xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},params:v(h),innerWidth:window.innerWidth,init:y,doNotReplaceURL:S,devicePixelRatioList:O}},t.finishAnimation=function(e,t,i){i?t?i.style.opacity="0":(i.style.opacity="0",e.style.opacity="1"):t?(I(e,"ci-bg-animation"),setTimeout(function(){e.style.removeProperty("overflow")},300)):(e.style.filter="blur(0px)",e.style.transform="translateZ(0) scale(1)"),S(e,"ci-image-loaded")},t.getWrapper=function(e){return(e.parentNode.className||"").indexOf("ci-image-wrapper")>-1?e.parentNode:(e.parentNode.parentNode.className||"").indexOf("ci-image-wrapper")>-1?e.parentNode.parentNode:void 0},t.getParams=v,t.setWrapperAlignment=function(e,t){switch(t){case"auto":break;case"center":e.style.margin="auto"}},t.isImageSVG=N,t.isLazy=function(e,t,i){return(t&&e||i)&&(e=!1),e}},function(e,t,i){"use strict";var r,n=i(2),a=(r=n)&&r.__esModule?r:{default:r};window.CIResponsive=a.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,n=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=i(0),s=i(3),d=i(10);var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l.call(this),this.config=(0,o.getInitialConfigBlurHash)(t),this.config.init&&this.init(),this.innerWidth=window.innerWidth}return a(e,[{key:"init",value:function(){document.addEventListener("lazybeforeunveil",s.loadBackgroundImage),window.addEventListener("resize",(0,d.debounce)(100,this.onUpdateDimensions.bind(this))),this.process()}},{key:"onUpdateDimensions",value:function(){this.process(!0),this.innerWidth<window.innerWidth&&(this.innerWidth=window.innerWidth)}},{key:"process",value:function(e){var t=this,i=void 0,r=void 0,n=this.innerWidth<window.innerWidth;e?(i=document.querySelectorAll("img[ci-src]"),r=document.querySelectorAll("[ci-bg-url]")):(i=(0,o.filterImages)(document.querySelectorAll("img[ci-src]"),"ci-image"),r=(0,o.filterImages)(document.querySelectorAll("[ci-bg-url]"),"ci-bg")),i.length>-1&&i.forEach(function(i){t.getBasicInfo(i,e,n,"image")}),r.length>-1&&r.forEach(function(i){t.getBasicInfo(i,e,n,"background")})}},{key:"processImage",value:function(e){var t=e.config,i=e.isUpdate,r=e.imgNode,a=e.containerProps,d=e.imgProps,c=e.lazy,l=e.blurHash,u=e.cloudimageUrl,p=e.isSVG,g=e.src,f=e.preserveSize,h=e.cloudimageSrcset,m=e.isAdaptive,v=a.ratio,y=t.placeholderBackground,w=t.dataSrcAttr,b=(0,s.applyOrUpdateWrapper)(n({isUpdate:i,imgNode:r,ratio:v,placeholderBackground:y},d));if(!i){(0,s.initImageClasses)(r,c),(0,s.initImageStyles)(r);var x=(0,s.applyOrUpdateBlurHashCanvas)(b,l);r.onload=function(){(0,s.onImageLoad)({wrapper:b,imgNode:r,canvas:l&&x,ratio:v,preserveSize:f,isAdaptive:m})}}(0,o.setSrcset)(r,h,"data-srcset",c,g,p,w),(0,o.setSrc)(r,u,null,c,g,p,w)}},{key:"processBackgroundImage",value:function(e){var t=e.config,i=e.isUpdate,r=e.imgNode,n=e.lazy,a=e.blurHash,d=e.cloudimageUrl,c=e.isSVG,l=e.src,u=t.dataSrcAttr;if(!i){(0,s.initImageBackgroundClasses)(r,n),(0,s.initImageBackgroundStyles)(r);var p=(0,s.applyOrUpdateBlurHashCanvas)(r,a);if(!n){var g=new Image;g.src=d,g.onload=function(){(0,s.finishAnimation)(r,a&&p)}}}(0,o.setBackgroundSrc)(r,d,n,l,c,u)}}]),e}(),l=function(){var e=this;this.getBasicInfo=function(t,i,a,s){var d="image"===s,c=e.config,l=c.baseURL,u=c.lazyLoading,p=c.presets,g=c.devicePixelRatioList,f=d?(0,o.getImageProps)(t):(0,o.getBackgroundImageProps)(t),h=f.params,m=f.imageNodeSRC,v=f.blurHash,y=f.isLazyCanceled,w=f.sizes,b=f.isAdaptive,x=f.preserveSize;if(m){var S=(0,o.getImgSrc)(m,l),I=r(S,2),O=I[0],N=I[1],R=(0,o.isLazy)(u,y,i),P=void 0;if((0,o.isOldBrowsers)(!0)){if(b)P=(0,o.getBreakPoint)(w,p);else if(i&&!a)return;var z=(0,o.determineContainerProps)(n({},f,{imgNode:t,config:c,size:P})),C=function(e){return(0,o.generateUrl)(n({src:O,params:h,config:c},z,{devicePixelRatio:e}))},B=C(),k=g.map(function(e){return{dpr:e.toString(),url:C(e)}}),A={config:c,isUpdate:i,imgNode:t,containerProps:z,imgProps:f,lazy:R,blurHash:v,cloudimageUrl:B,isSVG:N,src:O,preserveSize:x,isAdaptive:b};d?e.processImage(n({},A,{cloudimageUrl:C(1),cloudimageSrcset:k})):e.processBackgroundImage(A)}else d?t.src=O:t.style.backgroundImage="url("+O+")"}}};t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onImageLoad=t.applyOrUpdateBlurHashCanvas=t.initImageStyles=t.initImageClasses=t.initImageBackgroundStyles=t.initImageBackgroundClasses=t.finishAnimation=t.wrapImage=t.applyOrUpdateWrapper=t.loadBackgroundImage=void 0;var r=i(0),n=i(4),a=(t.loadBackgroundImage=function(e){var t=e.target,i=t.getAttribute("data-bg"),r=t.getAttribute("ci-blur-hash");if(i){var n=new Image;n.onload=function(){var e=t.querySelector("canvas");o(t,r&&e),t.removeAttribute("data-bg"),t.removeAttribute("ci-preview")},n.src=i,t.style.backgroundImage="url("+i+")"}},t.applyOrUpdateWrapper=function(e){var t=e.isUpdate,i=e.imgNode,n=e.ratio,o=e.imageNodeWidth,s=e.imageNodeHeight,d=e.alignment,c=e.preserveSize,l=e.placeholderBackground;return t?(0,r.getWrapper)(i):a({imgNode:i,ratio:n,imageNodeWidth:o,imageNodeHeight:s,alignment:d,preserveSize:c,placeholderBackground:l})},t.wrapImage=function(e){var t=e.imgNode,i=e.ratio,n=e.imageNodeWidth,a=e.imageNodeHeight,o=e.alignment,s=e.preserveSize,d=e.placeholderBackground,c=e.wrapper;return c=c||document.createElement("div"),(0,r.addClass)(c,"ci-image-wrapper"),c.style.background=d,c.style.display="block",c.style.width=s?n:"100%",c.style.height=s?a:"auto",c.style.overflow="hidden",c.style.position="relative",i&&(c.style.paddingBottom=s?"none":100/i+"%"),t.nextSibling?t.parentNode.insertBefore(c,t.nextSibling):t.parentNode.appendChild(c),(0,r.setWrapperAlignment)(c,o),c.appendChild(t),c}),o=t.finishAnimation=function(e,t){t&&t.style&&(t.style.opacity="0"),(0,r.addClass)(e,"ci-image-loaded")};t.initImageBackgroundClasses=function(e,t){(0,r.addClass)(e,"ci-bg"),t&&(0,r.addClass)(e,"lazyload")},t.initImageBackgroundStyles=function(e){e.style.position=e.style.position&&"static"!==e.style.position?e.style.position:"relative"},t.initImageClasses=function(e,t){(0,r.addClass)(e,"ci-image"),t&&(0,r.addClass)(e,"lazyload")},t.initImageStyles=function(e){e.style.display="block",e.style.width="100%",e.style.padding="0",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height="auto",e.style.transition="opacity 400ms ease 0ms"},t.applyOrUpdateBlurHashCanvas=function(e,t){var i=e.querySelector("canvas");if(!i&&t){i=document.createElement("canvas");var r=(0,n.decode)(t,32,32);i.width=32,i.height=32;var a=i.getContext("2d"),o=a.getImageData(0,0,32,32);o.data.set(r),a.putImageData(o,0,0),i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0",i.style.bottom="0",i.style.left="0",i.style.right="0",i.style.opacity="1",i.style.zIndex="1",i.style.transition="opacity 400ms ease 0ms",e.prepend(i)}return i},t.onImageLoad=function(e){var t=e.wrapper,i=e.imgNode,r=e.canvas,n=e.preserveSize,a=e.ratio,s=e.isAdaptive;t.style.background="transparent",a&&!s||(t.style.paddingBottom=n?"none":100/(i.width/i.height||1)+"%"),o(i,r)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlurhashValid=t.decode=void 0;var r=i(5);Object.defineProperty(t,"decode",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}}),Object.defineProperty(t,"isBlurhashValid",{enumerable:!0,get:function(){return r.isBlurhashValid}}),i(9)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlurhashValid=void 0;var r=i(6),n=i(7),a=i(8),o=function(e){if(!e||e.length<6)throw new a.ValidationError("The blurhash string must be at least 6 characters");var t=(0,r.decode83)(e[0]),i=Math.floor(t/9)+1,n=t%9+1;if(e.length!==4+2*n*i)throw new a.ValidationError("blurhash length mismatch: length is "+e.length+" but it should be "+(4+2*n*i))},s=(t.isBlurhashValid=function(e){try{o(e)}catch(e){return{result:!1,errorReason:e.message}}return{result:!0}},function(e){var t=e>>16,i=e>>8&255,r=255&e;return[(0,n.sRGBToLinear)(t),(0,n.sRGBToLinear)(i),(0,n.sRGBToLinear)(r)]}),d=function(e,t){var i=Math.floor(e/361),r=Math.floor(e/19)%19,a=e%19;return[(0,n.signPow)((i-9)/9,2)*t,(0,n.signPow)((r-9)/9,2)*t,(0,n.signPow)((a-9)/9,2)*t]};t.default=function(e,t,i,a){o(e),a|=1;for(var c=(0,r.decode83)(e[0]),l=Math.floor(c/9)+1,u=c%9+1,p=((0,r.decode83)(e[1])+1)/166,g=new Array(u*l),f=0;f<g.length;f++)if(0===f){var h=(0,r.decode83)(e.substring(2,6));g[f]=s(h)}else{var m=(0,r.decode83)(e.substring(4+2*f,6+2*f));g[f]=d(m,p*a)}for(var v=4*t,y=new Uint8ClampedArray(v*i),w=0;w<i;w++)for(var b=0;b<t;b++){for(var x=0,S=0,I=0,O=0;O<l;O++)for(var N=0;N<u;N++){var R=Math.cos(Math.PI*b*N/t)*Math.cos(Math.PI*w*O/i),P=g[N+O*u];x+=P[0]*R,S+=P[1]*R,I+=P[2]*R}var z=(0,n.linearTosRGB)(x),C=(0,n.linearTosRGB)(S),B=(0,n.linearTosRGB)(I);y[4*b+0+w*v]=z,y[4*b+1+w*v]=C,y[4*b+2+w*v]=B,y[4*b+3+w*v]=255}return y}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"];t.decode83=function(e){for(var t=0,i=0;i<e.length;i++){var n=e[i];t=83*t+r.indexOf(n)}return t},t.encode83=function(e,t){for(var i="",n=1;n<=t;n++){var a=Math.floor(e)/Math.pow(83,t-n)%83;i+=r[Math.floor(a)]}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sRGBToLinear=function(e){var t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t.linearTosRGB=function(e){var t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.round(12.92*t*255+.5):Math.round(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)};var r=t.sign=function(e){return e<0?-1:1};t.signPow=function(e,t){return r(e)*Math.pow(Math.abs(e),t)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ValidationError=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.name="ValidationError",i.message=e,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}()},function(e,t,i){"use strict";window.CanvasPixelArray&&(CanvasPixelArray.prototype.set=function(e){for(var t=this.length,i=0;i<t;i++)this[i]=e[i]}),function(){try{new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(e){window.ImageData=function(){var e=[].concat(Array.prototype.slice.call(arguments)),t=void 0;if(e.length<2)throw new TypeError("\n          Failed to construct 'ImageData': 2 arguments required, but only "+e.length+" present.\n        ");if(e.length>2){if(!((t=e.shift())instanceof Uint8ClampedArray))throw new TypeError("\n            Failed to construct 'ImageData': parameter 1 is not of type 'Uint8ClampedArray'\n          ");if(t.length!==4*e[0]*e[1])throw new Error("\n            Failed to construct 'ImageData': The input data byte length is not a multiple of (4 * width * height)\n          ")}var i=e[0],r=e[1],n=document.createElement("canvas").getContext("2d").createImageData(i,r);return t&&n.data.set(t),n}}}()},function(e,t,i){"use strict";function r(e,t,i,r){var n,a=!1,o=0;function s(){n&&clearTimeout(n)}function d(){var d=this,c=Date.now()-o,l=arguments;function u(){o=Date.now(),i.apply(d,l)}a||(r&&!n&&u(),s(),void 0===r&&c>e?u():!0!==t&&(n=setTimeout(r?function(){n=void 0}:u,void 0===r?e-c:e)))}return"boolean"!=typeof t&&(r=i,i=t,t=void 0),d.cancel=function(){s(),a=!0},d}function n(e,t,i){return void 0===i?r(e,t,!1):r(e,i,!1!==t)}i.r(t),i.d(t,"throttle",function(){return r}),i.d(t,"debounce",function(){return n})}]);
//# sourceMappingURL=js-cloudimage-responsive.min.js.map